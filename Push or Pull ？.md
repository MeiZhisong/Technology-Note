### Push or Pull ？



> Push

表示服务端主动推送数据给客户端。



==实时性高==。

==服务端需要维持与客户端之间的长连接。==如果客户端的数量比较多，那么服务端需要耗费大量的内存资源保存每个连接。而且，为了保证每个连接的有效性，服务端需要对每个连接建立心跳检测机制。

一旦客户端消费能力远远低于服务端生产能力，可能会导致客户端==消息堆积==，处理缓慢，甚至服务崩溃。



适用于数据实时性要求比较高的场景。



> Pull

表示客户端从服务端主动拉取数据。



客户端可以==根据自己的消费能力从服务端拉取数据进行消费==。

定时拉取的时间间隔需要设置好。如果太短，对服务端的请求压力比较大；如果太长，会造成数据一定程度的滞后，==实时性较差==。



适用于服务端生产数据的量比较大，而消费者消费的能力远远低于生产者生产的能力的场景。



Pull模型又分为短轮询和长轮询。

- 短轮询：定时向服务端获取数据。如果服务端数据长期没有更新，客户端会产生一些无效的pull请求。
- 长轮询：如果服务端没有新数据，就会hold住请求直到有新数据或者请求超时。服务端hold住请求需要消耗资源。